<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header card-header-danger">
          <h4 class="card-title">培训数据详情</h4>
        </div>
        <div class="card-body">
          <div class="detail-section" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap.md="10px">
            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">项目名称</span>
              <div class="item-content" fxFlex="1 0 78%">
                <p>{{ record.off_campus_event.name }}</p>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">培训时间</span>
              <div class="item-content" fxFlex="1 0 78%">
                <p>{{ record.off_campus_event.time | date:'y年M月d日 H:mm' }}</p>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">培训地点</span>
              <div class="item-content" fxFlex="1 0 78%">
                <p>{{ record.off_campus_event.location }}</p>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">培训学时</span>
              <div class="item-content" fxFlex="1 0 78%">
                <p>{{ record.off_campus_event.num_hours | number:"1.0-2" }}</p>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">参加人数</span>
              <div class="item-content" fxFlex="1 0 78%">
                <p>{{ record.off_campus_event.num_participants }}</p>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">人员信息</span>
              <div class="item-content" fxFlex="1 0 78%">
                <p>{{ record.user }}</p>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div *ngFor="let con of record.contents">
              <div *ngIf="con.content_type === 0">
                <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
                  fxLayoutGap="15px">
                  <span class="item-title" fxFlex="1 0 20%">培训内容</span>
                  <div class="item-content" fxFlex="1 0 78%">
                    <p>{{ con.content }}</p>
                  </div>
                  <div fxFlex="1 0 2%"></div>
                </div>
              </div>
            </div>

            <div *ngFor="let con of record.contents">
              <div *ngIf="con.content_type === 1">
                <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
                  fxLayoutGap="15px">
                  <span class="item-title" fxFlex="1 0 20%">培训总结</span>
                  <div class="item-content" fxFlex="1 0 78%">
                    <p>{{ con.content }}</p>
                  </div>
                  <div fxFlex="1 0 2%"></div>
                </div>
              </div>
            </div>

            <div *ngFor="let con of record.contents">
              <div *ngIf="con.content_type === 2">
                <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
                  fxLayoutGap="15px">
                  <span class="item-title" fxFlex="1 0 20%">培训反馈</span>
                  <div class="item-content" fxFlex="1 0 78%">
                    <p>{{ con.content }}</p>
                  </div>
                  <div fxFlex="1 0 2%"></div>
                </div>
              </div>
            </div>

            <div *ngIf="record.attachments.length">
              <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
                fxLayoutGap="15px">
                <span class="item-title" fxFlex="1 0 20%">附加文件</span>
                <div class="item-content" fxFlex="1 0 78%">
                  <div *ngFor="let att of record.attachments">
                    <a>{{ att.path }}</a>
                  </div>
                </div>
                <div fxFlex="1 0 2%"></div>
              </div>
            </div>

            <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
              fxLayoutGap="15px">
              <span class="item-title" fxFlex="1 0 20%">审核提示</span>
              <div class="item-content" fxFlex="1 0 78%">
                  <div *ngFor="let reviewnote of results">
                    <div *ngIf="reviewnote">
                      <p>
                        {{ reviewnote.content }}
                        <span class="span1"></span>
                        (XXX){{ reviewnote.create_time | date:'y.M.d H:mm' }}
                      </p>
                    </div>
                  </div>
                  <mat-paginator [length]="resultsLength" [pageSize]="pageSize" [disabled]="isLoadingResults"></mat-paginator>
                  <mat-form-field appearance="outline">
                    <mat-icon matPrefix>assignment</mat-icon>
                    <mat-label i18n>审核意见</mat-label>
                    <input matInput [(ngModel)]="reviewnotecontent" placeholder="请输入审核意见" i18n-placeholder required>
                  </mat-form-field>
              </div>
              <div fxFlex="1 0 2%"></div>
            </div>

            <div fxLayout="row" fxLayoutAlign="end stretch" fxLayoutGap="5px">
              <button mat-raised-button type="button" (click)="onSubmit()" class="btn btn-danger">提交</button>
            </div>
            <div fxLayout="row" fxLayoutAlign="end stretch" fxLayoutGap="5px">
              <button mat-raised-button class="btn btn-danger" (click)="statuschange('通过')">通过</button>
              <button mat-raised-button class="btn btn-danger" (click)="statuschange('不通过')">不通过</button>
              <button mat-raised-button class="btn btn-danger">返回</button>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
