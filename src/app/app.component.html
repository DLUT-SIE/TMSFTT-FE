<div class="container" [class.is-mobile]="platformService.isMobile">
  <mat-toolbar class="toolbar mat-elevation-z8" color="primary">
    <button mat-icon-button (click)="modulesMenu.toggle()"><mat-icon>menu</mat-icon></button>

    <span class="app-name">
      <span *ngIf="platformService.isMobile; else fullTitle"><span i18n>教学培训管理系统</span></span>
      <ng-template #fullTitle><span i18n>大连理工大学专任教师教学培训管理系统</span></ng-template>
    </span>

    <span class="fill-remaining-space"></span>

    <button mat-icon-button [matMenuTriggerFor]="messageBox">
      <mat-icon matBadge="4" matBadgeColor="accent" matBadgeOverlap="true">chat</mat-icon>
    </button>

    <span *ngIf="!platformService.isMobile"><span i18n>欢迎，</span>Alex</span>

    <button mat-icon-button [matMenuTriggerFor]="options">
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #messageBox="matMenu">
      <button mat-menu-item>A long text is very looooooooong.</button>
      <button mat-menu-item>Help</button>
    </mat-menu>

    <mat-menu #options="matMenu">
      <button mat-menu-item *ngIf="platformService.isMobile" disabled><mat-icon>person</mat-icon><span i18n>欢迎，</span>Alex</button>
      <button mat-menu-item>Settings</button>
      <button mat-menu-item>Help</button>
    </mat-menu>
  </mat-toolbar>

  <mat-sidenav-container class="sidenav-container"
                         [style.marginTop.px]="platformService.isMobile ? 56 : 0">
    <mat-sidenav class="mat-elevation-z4" #modulesMenu fixedTopGap="56"
                 [mode]="platformService.isMobile ? 'over' : 'side'"
                 [fixedInViewport]="platformService.isMobile"
                 [opened]="!platformService.isMobile">
      <mat-nav-list>
        <a mat-list-item routerLink="/home" routerLinkActive="active-link"><mat-icon>home</mat-icon><span i18n>首页</span></a>
        <a mat-list-item routerLink="/not-found" routerLinkActive="active-link"><mat-icon>inbox</mat-icon><span i18n>测试链接</span></a>
        <a mat-list-item routerLink="/abc-found" routerLinkActive="active-link"><mat-icon>how_to_reg</mat-icon><span i18n>测试链接</span></a>
      </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
