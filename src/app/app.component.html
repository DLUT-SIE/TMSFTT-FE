<div class="container" [class.is-mobile]="platformService.isMobile" fxLayout="column">
  <mat-toolbar class="toolbar mat-elevation-z8" color="primary" fxLayout="row" fxLayoutGap="5px">
    <button mat-icon-button (click)="modulesMenu.toggle()">
      <mat-icon>menu</mat-icon>
    </button>

    <span class="app-name">
      <span *ngIf="platformService.isMobile; else fullTitle"><span i18n>教学培训管理系统</span></span>
      <ng-template #fullTitle><span i18n>大连理工大学专任教师教学培训管理系统</span></ng-template>
    </span>

    <span fxFlex="1 1 auto"></span>

    <button mat-icon-button (click)="openNotificationBox()">
      <mat-icon matBadge="4" matBadgeColor="accent" matBadgeOverlap="true">chat</mat-icon>
    </button>

    <span *ngIf="!platformService.isMobile && authService.isAuthenticated"><span i18n>欢迎，</span>{{ authService.firstName }}</span>

    <button mat-icon-button [matMenuTriggerFor]="settings">
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #settings="matMenu">
      <button mat-menu-item *ngIf="platformService.isMobile && authService.isAuthenticated" disabled>
        <mat-icon>person</mat-icon><span i18n>欢迎，</span>{{ authService.firstName }}
      </button>
      <button mat-menu-item>Settings</button>
      <button mat-menu-item>Help</button>
    </mat-menu>
  </mat-toolbar>

  <mat-sidenav-container class="sidenav-container" fxFlex="noshink" [style.marginTop.px]="platformService.isMobile ? 60 : 0">
    <mat-sidenav class="mat-elevation-z4" #modulesMenu fixedTopGap="60" [mode]="platformService.isMobile ? 'over' : 'side'"
      [fixedInViewport]="platformService.isMobile" [opened]="!platformService.isMobile">
      <mat-nav-list>
        <a mat-list-item routerLink="/home" routerLinkActive="active-link">
          <mat-icon>home</mat-icon><span i18n>首页</span>
        </a>
        <a mat-list-item routerLink="/training-record/entry" routerLinkActive="active-link">
          <mat-icon>create</mat-icon><span i18n>培训记录录入</span>
        </a>
      </mat-nav-list>
    </mat-sidenav>

    <mat-sidenav-content>
      <div class="margin-wrapper">
        <router-outlet></router-outlet>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>