<div fxLayout="row">
  <div fxFlex.lg="1 1 calc(1em)"></div>
  <div fxFlex="8 8 calc(8em)" class="card">
    <div class="card-header card-header-primary">
      <h4 class="card-title">校内培训活动填报</h4>
      <p class="card-category">此表单只能提交校内的培训活动</p>
    </div>
    <div class="card-body">
      <form class="form-container" (ngSubmit)="onSubmit()" [formGroup]="eventForm" fxLayout="column">
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>note_add</mat-icon>
          <mat-label i18n>活动名称</mat-label>
          <input matInput type="text" placeholder="请提供该校内培训活动的名称" formControlName="name" i18n-placeholder required>
          <mat-error *ngIf="name.invalid && (name.dirty || name.touched)">
            <span *ngIf="!!name.errors.required" i18n>
              您需要提供校内培训活动的名称。
            </span>
            <span *ngIf="!!name.errors.maxlength" i18n>
              校内培训活动的名称不能超过50个字符。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>calendar_today</mat-icon>
          <mat-label i18n>时间</mat-label>
          <input matInput [matDatepicker]="picker" placeholder="请提供校内培训活动的时间" formControlName="time"
            i18n-placeholder required>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker touchUi #picker disabled="false"></mat-datepicker>
          <mat-error *ngIf="time.invalid && (time.dirty || time.touched)">
            <span *ngIf="!!time.errors.required" i18n>
              您需要提供校内培训活动的时间。
            </span>
            <span *ngIf="!!time.errors.maxlength" i18n>
              校内培训活动的时间不能超过30个字符。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>place</mat-icon>
          <mat-label i18n>参加地点</mat-label>
          <input matInput type="text" placeholder="请提供校内培训活动的地点" formControlName="location" i18n-placeholder
            required>
          <mat-error *ngIf="location.invalid && (location.dirty || location.touched)">
            <span *ngIf="!!location.errors.required" i18n>
              您需要提供校内培训活动的地点。
            </span>
            <span *ngIf="!!location.errors.maxlength" i18n>
              校内培训活动的地点不能超过50个字符。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>access_time</mat-icon>
          <mat-label i18n>参加时长</mat-label>
          <input matInput type="number" placeholder="请提供校内培训活动的时长" formControlName="numHours" i18n-placeholder
            required>
          <mat-error *ngIf="numHours.invalid && (numHours.dirty || numHours.touched)">
            <span *ngIf="!!numHours.errors.required" i18n>
              您需要提供校内培训活动的时长。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>people</mat-icon>
          <mat-label i18n>参加人数</mat-label>
          <input matInput type="number" placeholder="请提供校内培训活动的参加人数" formControlName="numParticipants"
            i18n-placeholder required>
          <mat-error *ngIf="numParticipants.invalid && (numParticipants.dirty || numParticipants.touched)">
            <span *ngIf="!!numParticipants.errors.required" i18n>
              您需要提供校内培训活动的参加人数。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>calendar_today</mat-icon>
          <mat-label i18n>截止时间</mat-label>
          <input matInput [matDatepicker]="pickerDeadline" placeholder="请提供校内培训活动的报名截止时间" formControlName="deadline"
            i18n-placeholder required>
          <mat-datepicker-toggle matSuffix [for]="pickerDeadline"></mat-datepicker-toggle>
          <mat-datepicker touchUi #pickerDeadline disabled="false"></mat-datepicker>
          <mat-error *ngIf="deadline.invalid && (deadline.dirty || deadline.touched)">
            <span *ngIf="!!deadline.errors.required" i18n>
              您需要提供校内培训活动的报名截止时间。
            </span>
            <span *ngIf="!!deadline.errors.maxlength" i18n>
              参加校内培训活动的时间不能超过30个字符。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>people</mat-icon>
          <mat-label i18n>参与工作量系数</mat-label>
          <input matInput type="number" placeholder="请提供校内培训活动参与工作量系数" formControlName="coefficientParticipator"
            i18n-placeholder required>
          <mat-error *ngIf="coefficientParticipator.invalid && (coefficientParticipator.dirty || coefficientParticipator.touched)">
            <span *ngIf="!!coefficientParticipator.errors.required" i18n>
              您需要提供校内培训活动参与工作量方式
            </span>
          </mat-error>
          </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>people</mat-icon>
          <mat-label i18n>专家工作量系数</mat-label>
          <input matInput type="number" placeholder="请提供校内培训活动专家工作量系数" formControlName="coefficientExpert"
            i18n-placeholder required>
          <mat-error *ngIf="coefficientExpert.invalid && (coefficientExpert.dirty || coefficientExpert.touched)">
            <span *ngIf="!!coefficientExpert.errors.required" i18n>
              您需要提供校内培训活动参与方式工作量方式
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>note_add</mat-icon>
          <mat-select placeholder="请提供校内培训活动学时取整方式" formControlName="hoursOption" required>
            <mat-option *ngFor="let roundChoice of roundChoices" [value]="roundChoice.type">
              {{ roundChoice.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="hoursOption.invalid && (hoursOption.dirty || hoursOption.touched)">
            <span *ngIf="!!hoursOption.errors.required" i18n>
              您需要校内培训活动学时取整方式。
            </span>
          </mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-icon matPrefix>note_add</mat-icon>
          <mat-select placeholder="请提供校内培训活动工作量取整方式" formControlName="workloadOption" required>
            <mat-option *ngFor="let roundChoice of roundChoices" [value]="roundChoice.type">
              {{ roundChoice.name }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="workloadOption.invalid && (workloadOption.dirty || workloadOption.touched)">
            <span *ngIf="!!workloadOption.errors.required" i18n>
              您需要校内培训活动工作量取整方式。
            </span>
          </mat-error>
        </mat-form-field>
        <ng-container *ngIf="!isUpdateMode || (isUpdateMode && event)">
          <ckeditor [editor]="editor" [config]="editorConfig" (ready)="onDescriptionEditorReady($event)"
                    [data]="description.value" (change)="descriptionChange($event)"
                    ></ckeditor>
        </ng-container>
        <mat-divider></mat-divider>
        <div fxLayout="row" fxLayoutAlign="end stretch" fxLayoutGap="5px">
          <button mat-raised-button type="submit" color="primary" [disabled]="eventForm.invalid" i18n>提交</button>
        </div>
      </form>
    </div>
  </div>
  <div fxFlex.lg="1 1 calc(1em)"></div>
</div>