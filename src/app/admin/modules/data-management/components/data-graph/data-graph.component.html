<div class="container-fluid">
  <div class="row">
      <div class="col-md-2">
        <mat-form-field>
          <mat-label>选择统计类型</mat-label>
          <mat-select [formControl]="selected_graph_type">
            <mat-option *ngFor="let statistics of statistics_type" [value]="statistics.id">{{statistics.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-md-2">
        <mat-form-field>
          <mat-label>选择分组类型</mat-label>
          <mat-select [formControl]="selected_group_type">
            <mat-option *ngFor="let group_type of second_type[selected_graph_type.value]" [value]="group_type.id">{{group_type.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-md-2">
        <mat-form-field appValidator >
          <mat-label>输入起始年份</mat-label>
          <mat-select  [formControl]="selected_start_year" required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let year of start_year_list" [value]="year">{{year}}</mat-option>
          </mat-select>
          <mat-error *ngIf="selected_start_year.hasError('required')">Please choose a right start year</mat-error>
        </mat-form-field>
        <div *ngIf="selected_graph.errors?.TimeValidator" class="cross-validation-error-message alert alert-danger">请选择正确的开始年份</div>
      </div>
      <div class="col-md-2">
        <mat-form-field appValidator>
          <mat-label>输入终止年份</mat-label>
          <mat-select [formControl]="selected_end_year" required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let year of end_year_list" [value]="year">{{year}}</mat-option>
          </mat-select>
          <mat-error *ngIf="selected_graph.invalid && !selected_end_year.hasError('required')">Please choose a right end year</mat-error>
        </mat-form-field>
        <div *ngIf="selected_graph.errors?.TimeValidator" class="cross-validation-error-message alert alert-danger">请选择正确的结束年份</div>
      </div>
      <div class="col-md-2" *ngIf="show_department_selector">
        <mat-form-field>
          <mat-label>选择学院</mat-label>
          <mat-select [formControl]="selected_department">
            <mat-option *ngFor="let department of departments_list" [value]="department">{{department}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div>
        <app-data-graph-child #child2 [is_pie_grah] = "true" [graph_param]="selected_graph_values" [title_graph_names]="statistics_type"></app-data-graph-child>
      </div>
    </div>
    <div class="col-md-6">
        <div >
          <app-data-graph-child #child3 [is_pie_grah] = "true" [graph_param]="selected_graph_values" [title_graph_names]="statistics_type"></app-data-graph-child>
        </div>
    </div>
  </div>
  <div>
    <app-data-graph-child #child1 [is_pie_grah] = "false" [graph_param]="selected_graph_values" [title_graph_names]="statistics_type"></app-data-graph-child>
  </div>
</div>
