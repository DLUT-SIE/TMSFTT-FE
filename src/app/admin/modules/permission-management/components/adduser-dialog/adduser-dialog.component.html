<div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center"
  fxLayoutGap="15px" fxLayoutAlign.xs="start start">
  <span class="item-title" fxFlex="1 0 20%" fxFlexAlign.xs="start">职工号</span>
  <div class="item-content" fxFlex="1 0 78%" fxFlexAlign.xs="stretch">
    <form fxLayout="row" fxLayoutAlign="space-between center" fxLayout.xs="column"
      fxLayoutAlign.xs="start stretch" (ngSubmit)="retrieveUser()">
      <mat-form-field>
        <input matInput type="text" name="username" [(ngModel)]="username" #usernameModel="ngModel" required>
        <mat-error *ngIf="usernameModel.hasError('required')">请输入用户名</mat-error>
      </mat-form-field>
      <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="5px">
        <button mat-raised-button type="submit" color="primary" [disabled]="usernameModel.invalid">检索</button>
      </div>
    </form>
  </div>
  <div fxFlex="1 0 2%"></div>
</div>

<p class="text-danger" *ngIf="errorMessage">{{ errorMessage }}</p>

<ng-container *ngIf="user">
  <div class="detail-item" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between start"
    fxLayoutGap="15px">
    <span class="item-title" fxFlex="1 0 20%">用户姓名</span>
    <div class="item-content" fxFlex="1 0 78%">
      {{ user.first_name }}
    </div>
    <div fxFlex="1 0 2%"></div>
  </div>
</ng-container>

<mat-divider></mat-divider>

<div mat-dialog-actions fxLayout="row" fxLayout.xs="column" fxLayoutAlign="end center"
  fxLayoutGap="15px" fxLayoutAlign.xs="start start">
  <button mat-raised-button type="button" color="primary" [mat-dialog-close]="user.id"
    *ngIf="!isLoading && user">保存</button>
  <button mat-raised-button type="button" color="primary"(click)="onNoClick()">取消</button>
</div>
